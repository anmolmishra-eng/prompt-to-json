# Prefect deployment configuration
name: backend-health-monitor
version: 1.0.0

# Default work pool
work_pool:
  name: default
  work_queue_name: default

# Build configuration
build:
  - prefect.deployments.steps.run_shell_script:
      script: echo "Building deployment..."

# Push configuration
push:
  - prefect.deployments.steps.run_shell_script:
      script: echo "Pushing deployment..."

# Pull configuration
pull:
  - prefect.deployments.steps.run_shell_script:
      script: echo "Pulling deployment..."

# Deployment configurations
deployments:
  - name: backend-health-monitor
    version: 1.0.0
    tags: ["monitoring", "health", "system"]
    description: "System health monitoring workflow"
    entrypoint: workflows/system_health_flow.py:system_health_flow
    work_pool:
      name: default
    parameters:
      db_url: "postgresql://postgres.dntmhjlbxirtgslzwbui:Anmol%4025703@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres"
      redis_url: "redis://localhost:6379/0"
      api_url: "http://localhost:8000"
      sohum_url: "http://localhost:8001"
      ranjeet_url: "http://localhost:8002"
    schedule:
      interval: 300  # 5 minutes
