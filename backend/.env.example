# ============================================================================
# BHIV AI ASSISTANT - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# ============================================================================
# APPLICATION
# ============================================================================
APP_NAME=BHIV AI Assistant
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=development
HOST=0.0.0.0
PORT=8000

# ============================================================================
# DATABASE (PostgreSQL via Supabase or self-hosted)
# ============================================================================
DATABASE_URL=postgresql://postgres.dntmhjlbxirtgslzwbui:Anmol%4025703@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40

# ============================================================================
# SUPABASE STORAGE
# ============================================================================
SUPABASE_URL=https://dntmhjlbxirtgslzwbui.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRudG1oamxieGlydGdzbHp3YnVpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwMDc1OTksImV4cCI6MjA3MzU4MzU5OX0.e4ruUJBlI3WaS1RHtP-1844ZZz658MCkVqFMI9FP4GA
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-service-role-key-here

# Storage Buckets
STORAGE_BUCKET_FILES=files
STORAGE_BUCKET_PREVIEWS=previews
STORAGE_BUCKET_GEOMETRY=geometry
STORAGE_BUCKET_COMPLIANCE=compliance

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
# Generate strong secret: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=bhiv-jwt-secret-2024-must-be-at-least-32-characters-long
JWT_SECRET=bhiv-jwt-secret-2024-must-be-at-least-32-characters-long
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=30

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================

# Sohum's MCP Compliance System
SOHUM_MCP_URL=https://ai-rule-api-w7z5.onrender.com
SOHAM_URL=https://ai-rule-api-w7z5.onrender.com
SOHUM_API_KEY=optional-api-key-if-required
COMPLIANCE_API_KEY=optional-compliance-api-key

# Ranjeet's Land Utilization RL System (Mock Mode - Live in 3-4 days)
RANJEET_RL_URL=http://localhost:8000/mock/rl
RANJEET_API_KEY=optional-api-key-if-required
LAND_UTILIZATION_ENABLED=true
LAND_UTILIZATION_MOCK_MODE=true
RANJEET_SERVICE_AVAILABLE=false

# BHIV Integration URLs
BHIV_MCP_ENDPOINT=https://ai-rule-api-w7z5.onrender.com/mcp/compliance/check
BHIV_RL_ENDPOINT=http://localhost:8000/api/v1/rl/train/opt
BHIV_GEOMETRY_ENDPOINT=http://localhost:8000/api/v1/geometry/generate

# ============================================================================
# LANGUAGE MODEL CONFIGURATION (AI/ML)
# ============================================================================

# AI Model Toggle - Set to true to use real AI models
USE_AI_MODEL=true

# Provider Selection (local|yotta|openai|anthropic)
LM_PROVIDER=openai
DEVICE_PREFERENCE=auto

# OpenAI GPT Models (Recommended for production)
OPENAI_API_KEY=sk-your-openai-api-key-here
# Get your key from: https://platform.openai.com/api-keys
# Models: gpt-4o-mini (fast, cheap), gpt-4o (powerful), gpt-4-turbo

# Anthropic Claude Models (Alternative)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here
# Get your key from: https://console.anthropic.com/
# Models: claude-3-5-sonnet, claude-3-opus, claude-3-haiku

# Local GPU (RTX-3060) - Fallback when APIs unavailable
LOCAL_GPU_ENABLED=true
LOCAL_GPU_DEVICE=cuda:0
LOCAL_GPU_MODEL=gpt2
LOCAL_MODEL_PATH=./models/local_model
MAX_PROMPT_LENGTH=2048
PROMPT_LENGTH_THRESHOLD=100

# Yotta Cloud GPU (Legacy - Optional)
YOTTA_API_KEY=demo-key-for-testing
YOTTA_API_KEY_RL=demo-key-for-testing
YOTTA_URL=https://api.yotta.com
YOTTA_BASE_URL=https://api.yotta.com
YOTTA_MODEL=llama-2-7b

# Prompt Configuration
DEFAULT_TEMPERATURE=0.7
DEFAULT_TOP_P=0.9

# ============================================================================
# MONITORING
# ============================================================================

# Sentry Error Tracking
SENTRY_DSN=https://4465443c7756d19300022e0d12f400e2@o4510289261887488.ingest.us.sentry.io/4510322463670272
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/bhiv.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# Prometheus Metrics
METRICS_ENABLED=true
ENABLE_METRICS=true

# ============================================================================
# PREFECT WORKFLOW ORCHESTRATION
# ============================================================================
PREFECT_API_KEY=pnu_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
PREFECT_API_URL=https://api.prefect.cloud/api/accounts/
PREFECT_WORKSPACE=your-account-id/your-workspace-name
PREFECT_QUEUE=default

# ============================================================================
# REDIS CACHING
# ============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50
CACHE_TTL=3600

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# FILE UPLOAD
# ============================================================================
MAX_UPLOAD_SIZE=10485760
UPLOAD_DIRECTORY=uploads/
ALLOWED_EXTENSIONS=.pdf,.png,.jpg,.jpeg,.glb,.obj,.fbx

# ============================================================================
# MULTI-CITY CONFIGURATION
# ============================================================================
SUPPORTED_CITIES=Mumbai,Pune,Ahmedabad,Nashik,Bangalore
DEFAULT_CITY=Mumbai

# ============================================================================
# RL (REINFORCEMENT LEARNING) CONFIGURATION
# ============================================================================
RL_ENABLED=true
RL_FEEDBACK_THRESHOLD=10
RL_TRAINING_BATCH_SIZE=32
RL_LEARNING_RATE=0.001

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
ENCRYPTION_KEY=fernet_key_32_bytes_base64_encoded_here_replace_with_real_key

# ============================================================================
# DEMO CONFIGURATION
# ============================================================================
DEMO_USERNAME=admin
DEMO_PASSWORD=bhiv2024

# Demo Mode - Hide internal endpoints from Swagger/OpenAPI
# Set to true to hide research/internal endpoints from public docs
# Set to false for development to see all endpoints
DEMO_MODE=true

# ============================================================================
# CORS SETTINGS
# ============================================================================
# Note: CORS_ORIGINS should be set as comma-separated values in production
# CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://yourdomain.com
CORS_CREDENTIALS=true
